<div class="selector" ng-class="{'smaller': vm.smaller}"
     data-parent="{{ ::vm.parent }}"
     ng-show="::vm.optionList.length > 0">
   <span 
      class="label_selected" 
      title="{{ vm.getOptionSelected().title | translate }}"
      data-value="{{ vm.getOptionSelected().value }}">
      <span ng-if="vm.currentType === 'named-entities'">
        <i class="fa fa-tags" style="margin-right: 4px;"></i>
        Seleziona entit√†
        <span ng-if="vm.optionSelected && vm.optionSelected.length > 0 && vm.optionSelected[0].value !== '' && vm.optionSelected[0].value !== 'NONE' && vm.optionSelected[0].value !== 'ALL'">
          ({{vm.optionSelected.length}} selezionate)
        </span>
      </span>
      <span ng-if="vm.currentType !== 'named-entities'">
        {{ vm.getOptionSelected().label | translate  }}
      </span>
   </span>
   <div 
      class="open_options" 
      ng-click="vm.toggleExpand()">
      <i class="fa fa-sort-desc"></i>
   </div>
   <div 
      class="option_container"
      ng-class="{ 'expanded':vm.expanded,
                  'openUp': vm.openUp }" >
      <div ng-if="vm.currentType === 'named-entities'">
        <div class="option groupTitle" style="position:sticky;top:0;background:#fff;z-index:4;">
          {{ 'SELECTS.NAMED_ENTITIES' | translate }}
        </div>
        <div class="option sticky-option" ng-click="vm.doCallback(vm.optionSelected, vm.optionList[vm.optionList.length-2]);">
          <i class="fa fa-check-square-o option-icon-label"></i> {{ 'SELECTS.SELECT_ALL' | translate }}
        </div>
        <div class="option sticky-option" ng-click="vm.doCallback(vm.optionSelected, vm.optionList[vm.optionList.length-1]);">
          <i class="fa fa-times option-icon-label"></i> {{ 'SELECTS.CLEAR' | translate }}
        </div>
      </div>
      <div ng-repeat="option in vm.optionList" ng-switch="::option.type" ng-if="!(vm.currentType === 'named-entities' && (option.value === 'ALL' || option.value === 'NONE' || option.type === 'groupTitle'))">
         <div ng-switch-when="groupTitle" class="option groupTitle">
            {{ option.label | translate }}
         </div>
         <div 
            ng-switch-default
            class="option {{ ::option.additionalClass }}" 
            title="{{option.title | translate }}" 
            data-value="{{::option.value }}"
            data-wit="{{::option.ed}}"
            ng-click="vm.doCallback(vm.optionSelected, option);"
            ng-class="{'selected': vm.isOptionSelected(option)}">
            <i class="fa {{::option.icon}} option-icon-label" 
               style="color: {{ ::option.color }}"
               ng-if="::option.icon"></i>
            {{ option.label  | translate }}
         </div>
      </div>
   </div>
</div>